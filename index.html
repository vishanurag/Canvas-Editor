<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creative Canvas Tool - Dark Theme</title>
    <meta name="description"
        content="Canvas Editor is an intuitive, interactive tool for drawing, editing, and enhancing digital images directly on a canvas. Supports a wide range of brushes, colors, and editing features.">

    <meta name="keywords"
        content="canvas editor, drawing tool, image editor, interactive editor, digital canvas, online drawing, image editing features, paint tool, art editor, graphic design tool, photo editing, vector editor, HTML5 canvas, JavaScript drawing, online sketch, freehand drawing, digital art tool, custom brushes, canvas manipulation, web-based editor, graphics editor, color palette, shape editor, text overlay, photo effects, pixel art, raster editor, online image editor, creative tools, visual editor">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://github.com/vishanurag/Canvas-Editor">
    <meta property="og:title" content="Canvas Editor - Interactive Drawing & Editing Tool">
    <meta property="og:description"
        content="Canvas Editor is an intuitive, interactive tool for drawing, editing, and enhancing digital images directly on a canvas. Supports a wide range of brushes, colors, and editing features.">
    <meta property="og:image" content="resources/favicon.ico">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://github.com/vishanurag/Canvas-Editor">
    <meta property="twitter:title" content="Canvas Editor - Interactive Drawing & Editing Tool">
    <meta property="twitter:description"
        content="Canvas Editor is an intuitive, interactive tool for drawing, editing, and enhancing digital images directly on a canvas. Supports a wide range of brushes, colors, and editing features.">
    <meta property="twitter:image" content="resources/favicon.ico">

    <!-- Additional SEO Tags -->
    <meta name="keywords"
        content="canvas editor, drawing tool, image editor, interactive editor, digital canvas, online drawing, image editing features">
    <meta name="author" content="Vishanurag">
    <link rel="canonical" href="https://github.com/vishanurag/Canvas-Editor">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="icon" href="resources/favicon.ico" type="image/ico">
    <link rel="manifest" href="/manifest.json">

    <div class="visitor-counter">
        <div>Visitor</div>
        <div class="website-counter"></div>
    </div>

    <!-- Fonts -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* Global Dark Theme Variables */
        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #1a1a1a;
            --bg-tertiary: #2a2a2a;
            --bg-quaternary: #3a3a3a;
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --text-muted: #888888;
            --accent-primary: #6366f1;
            --accent-secondary: #8b5cf6;
            --accent-tertiary: #a855f7;
            --accent-danger: #ef4444;
            --accent-success: #10b981;
            --border-color: #404040;
            --border-hover: #525252;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .visitor-counter {
    position: fixed;
    top: 570px;
    left: 10px;
    background-color: #a64dff; /* Solid purple theme color */
    height: 100px;
    width: 100px;
    color: #fff; /* White text for contrast */
    font-weight: 700;
    font-size: 18px;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    border-radius: 12px;
    backdrop-filter: blur(8px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2),
                0 2px 4px rgba(0, 0, 0, 0.15);
    z-index: 1000;
    transition: all 0.3s ease;
}

/* Hover effect */
.visitor-counter:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 16px rgba(166, 77, 255, 0.4); /* Purple shadow */
}

/* Top text (like "Visitors") */
.visitor-counter div:first-child {
    margin-bottom: 5px;
    font-size: 14px;
    letter-spacing: 1px;
}

/* Counter number */
.website-counter {
    font-size: 24px;
    font-family: 'Arial', sans-serif;
}

/* Responsive breakpoints */
@media screen and (max-width: 768px) {
    .visitor-counter {
        height: 100px;
        width: 100px;
        font-size: 16px;
    }

    .website-counter {
        font-size: 20px;
    }
}

@media screen and (max-width: 480px) {
    .visitor-counter {
        height: 80px;
        width: 80px;
        font-size: 14px;
    }

    .website-counter {
        font-size: 18px;
    }
}

/* Dark mode */
.dark-mode .visitor-counter {
    background-color: #8a2be2; /* Slightly darker purple for dark mode */
    color: #f0f0f0;
    box-shadow: 0 6px 12px rgba(255, 255, 255, 0.1),
                0 2px 4px rgba(255, 255, 255, 0.05);
}

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--bg-primary) 0%, #111827 100%);
            color: var(--text-primary);
            min-height: 100vh;
            /* @media (max-width: 768px) {
               .navbar{
                flex-direction: column;
                align-items: center;
                background-color:#09f915; 
            }
            } */
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* Navigation Bar */
        .navbar {
           
            background: linear-gradient(217deg,#a855f7,#fc5c7d );
            /* linear-gradient(127deg, rgb(0 255 0 / 0.8),transparent 70.71% ),
            linear-gradient(336deg, rgb(0 0 255/ 0.8),transparent 70.71% ); */
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow-lg);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid var(--border-color);
        }

        .navbar-brand {
            font-size: 1.75rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.02em;
        }

        .nav-links {
            display: flex;
            gap: 1.5rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
            position: relative;
            font-weight: 500;
            font-size: 0.875rem;
        }

        .nav-links a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 0.5rem;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .nav-links a:hover {
            color: var(--text-primary);
            transform: translateY(-1px);
        }

        .nav-links a:hover::before {
            opacity: 0.1;
        }

        .nav-links a.active {
            color: var(--text-primary);
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }

        .profile-link img {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: 2px solid var(--accent-primary);
            transition: all 0.3s ease;
        }

        .profile-link:hover img {
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
        }

        /* Main Layout */
        .app-container {
            display: flex;
            min-height: calc(100vh - 80px);
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: linear-gradient(180deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%);
            padding: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            box-shadow: var(--shadow-lg);
            border-right: 1px solid var(--border-color);
        }

        .sidebar-section {
            margin-bottom: 2rem;
        }

        .sidebar-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .sidebar-button {
            width: 100%;
            padding: 0.75rem 1rem;
            background: linear-gradient(135deg, var(--bg-quaternary), var(--bg-tertiary));
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .sidebar-button:hover {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
            border-color: var(--accent-primary);
        }

        .sidebar-button i {
            font-size: 1.125rem;
        }

        /* Main Content Area */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 2rem;
            gap: 1.5rem;
        }

        /* Toolbar */
        .toolbar {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%);
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-color);
        }

        .toolbar-section {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .toolbar-group {
            display: flex;
            gap: 0.5rem;
            align-items: center;
            padding: 0.5rem;
            background: var(--bg-quaternary);
            border-radius: 0.5rem;
        }

        .toolbar-button {
            padding: 0.5rem 0.75rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.25rem;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .toolbar-button:hover {
            background: var(--bg-quaternary);
            border-color: var(--accent-primary);
            transform: translateY(-1px);
        }

        .toolbar-button.active {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.3);
        }

        .color-input {
            width: 40px;
            height: 40px;
            border: none;
            border-radius: 0.375rem;
            cursor: pointer;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
        }

        .range-input {
            width: 100px;
            height: 6px;
            background: var(--bg-tertiary);
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
            appearance: none;
        }

        .range-input::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            background: var(--accent-primary);
            border-radius: 50%;
            cursor: pointer;
        }

        .number-input {
            width: 60px;
            padding: 0.25rem 0.5rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 0.375rem;
            color: var(--text-primary);
            text-align: center;
        }

        /* Canvas */
        .canvas-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }

        #canvas {
            border: 2px solid var(--border-color);
            border-radius: 1rem;
            background: var(--bg-primary);
            box-shadow: var(--shadow-xl);
            cursor: crosshair;
            width: 100%;
            height: 600px;
            max-width: 100%;
        }

        .canvas-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .visitor-counter {
            position: fixed;
            top: 34rem;
            left: 14px;
            background: linear-gradient(135deg, #fc5c7d, #6a82fb);
            color: white;
            font-weight: 700;
            font-size: 18px;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 12px;
            width: 100px;
            height: 100px;
            box-shadow: 0 8px 20px rgba(255, 105, 135, 0.4);
            transition: transform 0.3s ease;
        }

        .visitor-counter:hover {
            transform: scale(1.1);
        }


        /* Footer */
        .footer {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%);
            padding: 2rem;
            text-align: center;
            border-top: 1px solid var(--border-color);
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .newsletter-section {
            display: flex;
            gap: 1rem;
            align-items: center;
            justify-content: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .newsletter-input {
            padding: 0.75rem 1rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            color: var(--text-primary);
            width: 300px;
            max-width: 100%;
        }

        .newsletter-button {
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border: none;
            border-radius: 0.5rem;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .newsletter-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }

        .footer-links {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 1rem;
        }

        .footer-links a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: var(--accent-primary);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .app-container {
                flex-direction: column;
               
            }

            .sidebar {
                width: 100%;
                height: auto;
                padding: 1rem;
            }

            .navbar {
                flex-direction: column;
                gap: 1rem;
                padding: 1rem;
                
            }

            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
                gap: 0.5rem;
            }

            .toolbar-section {
                justify-content: center;
            }

            #canvas {
                height: 400px;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-tertiary);
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 4px;
        }

        /* Hover Effects */
        .hover-lift:hover {
            transform: translateY(-2px);
            transition: transform 0.3s ease;
        }

        .glow-effect:hover {
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
        }

        .sidebar.collapsed {
            width: 0;
            padding: 0;
            overflow: hidden;
            transition: width 0.3s ease;
        }

        .arrow-button {
            background-color: #460346;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: transform 0.3s ease;
            display: inline-flex;
            align-items: center;
        }

        .arrow-button i {
            font-size: 20px;
            transition: transform 0.3s ease;
        }

        .arrow-button:hover {
            background-color: #5e044f;
        }

        /* Rotate arrow when sidebar is collapsed */
        .sidebar.collapsed+.tools .arrow-button i {
            transform: rotate(180deg);
        }

        /* CSS for hiding and showing toolbar */
        .sidebar.collapsed {
            width: 0;
            padding: 0;
            overflow: hidden;
            transition: width 0.3s ease;
        }

        .circle {
            height: 24px;
            width: 24px;
            border-radius: 50%;
            background-color: black;
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 99999999;
            transition: transform 0.1s ease-out;
        }

        /* Hide cursor when the 'hidden' class is applied */
        .circle.hidden {
            visibility: hidden;
        }
    </style>
</head>
<script>
    function getVisitorCount() {
        return localStorage.getItem('visitorCount') || 0;
    }

    // Function to increment and save the count
    function incrementVisitorCount() {
        let count = parseInt(getVisitorCount()) + 1;
        localStorage.setItem('visitorCount', count);
        return count;
    }

    // Function to display the count
    function displayVisitorCount() {
        const counterElement = document.querySelector('.website-counter');
        const count = incrementVisitorCount();
        counterElement.textContent = count;
    }

    // Call the display function when the page loads
    document.addEventListener('DOMContentLoaded', displayVisitorCount);
</script>

<body>

    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>

    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-brand">Canvas Editor</div>
        <div class="nav-links">
            <a href="index-new.html" class="active">Home</a>
            <a href="about-us.html">About Us</a>
            <a href="review.html">Review</a>
            <a href="testimonial.html">Testimonial</a>
            <a href="privacy.html">Privacy</a>
            <a href="tutorial.html">Tutorial</a>
            <a href="Blog_page.html">Blog</a>
            <a href="Faq.html">FAQ</a>
            <a href="./Feedback.html">Feedback</a>
            <a href="./contact.html">Contact Us</a>
            <a href="contributors.html">Contributors</a>
            <a href="auth.html">Login</a>
            <a href="./profile.html" class="profile-link">
                <img id="homeProfileImage" src="https://i.postimg.cc/NFFmtc9K/xnz-Mst5-V-400x400.jpg" alt="Profile Icon"
                    style="width: 32px; height: 32px;">
            </a>
        </div>
    </nav>

    <!-- Main App Container -->
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-section">
                <h3 class="sidebar-title">Quick Actions</h3>
                <button class="sidebar-button" onclick="showTools()">
                    <i class="fas fa-wrench"></i> Tools
                </button>
                <button class="sidebar-button" onclick="showSettings()">
                    <i class="fas fa-cogs"></i> Settings
                </button>
                <button class="sidebar-button" onclick="showHelp()">
                    <i class="fas fa-question-circle"></i> Help
                </button>
            </div>

            <div class="sidebar-section">
                <h3 class="sidebar-title">Canvas Options</h3>
                <button class="sidebar-button" onclick="saveCanvas()">
                    <i class="fas fa-save"></i> Save Canvas
                </button>
                <button class="sidebar-button" onclick="loadCanvas()">
                    <i class="fas fa-folder-open"></i> Load Canvas
                </button>
                <button class="sidebar-button" onclick="exportCanvas()">
                    <i class="fas fa-download"></i> Export Image
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Toolbar -->
            <div class="toolbar">
                <div class="toolbar-section">
                    <div class="toolbar-group">
                        <button class="toolbar-button active" id="pencil">
                            <i class="fas fa-pencil-alt"></i> Pencil
                        </button>
                        <button class="toolbar-button" id="marker">
                            <i class="fas fa-highlighter"></i> Marker
                        </button>
                        <button class="toolbar-button" id="eraser">
                            <i class="fas fa-eraser"></i> Eraser
                        </button>
                    </div>

                    <div class="toolbar-group">
                        <button class="toolbar-button" id="line">
                            <i class="fas fa-minus"></i> Line
                        </button>
                        <button class="toolbar-button" id="rectangle">
                            <i class="far fa-square"></i> Rectangle
                        </button>
                        <button class="toolbar-button" id="circle">
                            <i class="far fa-circle"></i> Circle
                        </button>
                        <button class="toolbar-button" id="text">
                            <i class="fas fa-font"></i> Text
                        </button>
                    </div>

                    <div class="toolbar-group">
                        <input type="color" class="color-input" id="colorPicker" value="#ffffff">
                        <input type="color" class="color-input" id="bgColorPicker" value="#000000">
                    </div>

                    <div class="toolbar-group">
                        <label style="color: var(--text-secondary);">Size:</label>
                        <input type="range" class="range-input" id="lineWidth" min="1" max="50" value="5">
                        <span id="lineWidthValue" style="color: var(--text-secondary);">5</span>
                    </div>

                    <div class="toolbar-group">
                        <label style="color: var(--text-secondary);">Text:</label>
                        <input type="number" class="number-input" id="textSize" min="8" max="72" value="20">
                    </div>

                    <div class="toolbar-group">
                        <button class="toolbar-button" id="undo">
                            <i class="fas fa-undo"></i> Undo
                        </button>
                        <button class="toolbar-button" id="redo">
                            <i class="fas fa-redo"></i> Redo
                        </button>
                        <button class="toolbar-button" id="clear">
                            <i class="fas fa-trash"></i> Clear
                        </button>
                        <button class="toolbar-button" id="grid">
                            <i class="fas fa-th"></i> Grid
                        </button>
                    </div>
                </div>
            </div>

            <!-- Canvas Container -->
            <div class="canvas-container">
                <canvas id="canvas"></canvas>

                <div class="canvas-controls">
                    <button class="toolbar-button" onclick="clearCanvas()">
                        <i class="fas fa-broom"></i> Clear Canvas
                    </button>
                    <button class="toolbar-button" onclick="toggleFullscreen()">
                        <i class="fas fa-expand"></i> Fullscreen
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="newsletter-section">
                <h3 style="color: var(--text-primary); margin-bottom: 1rem;">Stay Updated</h3>
                <input type="email" class="newsletter-input" id="newsletter-email"
                    placeholder="Enter your email address">
                <button class="newsletter-button" onclick="subscribeNewsletter()">
                    Subscribe
                </button>
            </div>

            <div class="footer-links">
                <a href="about-us.html">About</a>
                <a href="contact.html">Contact</a>
                <a href="privacy.html">Privacy</a>
                <a href="Faq.html">FAQ</a>
            </div>

            <p style="color: var(--text-secondary); margin-top: 1rem;">
                Created by <a href="https://github.com/vishanurag" style="color: var(--accent-primary);">ANURAG
                    VISHWAKARMA</a>
                | All rights reserved © <span id="year"></span>
            </p>
        </div>
    </footer>

    <script>
        // Canvas setup
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        let isDrawing = false;
        let currentTool = 'pencil';
        let startX, startY;
        let history = [];
        let redoStack = [];
        let showGrid = false;

        // Set canvas size
        function resizeCanvas() {
            const sidebar = document.querySelector('.sidebar');
            const sidebarWidth = sidebar ? sidebar.offsetWidth : 0;
            canvas.width = window.innerWidth - sidebarWidth - 40;
            canvas.height = Math.min(window.innerHeight - 300, 600);
            redrawCanvas();
        }

        // Initialize canvas
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // Set initial styles
        ctx.lineWidth = 5;
        ctx.lineCap = 'round';
        ctx.strokeStyle = '#ffffff';
        ctx.fillStyle = '#ffffff';

        // Tool selection
        document.querySelectorAll('.toolbar-button').forEach(button => {
            button.addEventListener('click', () => {
                document.querySelectorAll('.toolbar-button').forEach(b => b.classList.remove('active'));
                button.classList.add('active');
                currentTool = button.id;
            });
        });

        // Color picker
        document.getElementById('colorPicker').addEventListener('input', (e) => {
            ctx.strokeStyle = e.target.value;
            ctx.fillStyle = e.target.value;
        });

        document.getElementById('bgColorPicker').addEventListener('input', (e) => {
            canvas.style.backgroundColor = e.target.value;
        });

        // Line width
        document.getElementById('lineWidth').addEventListener('input', (e) => {
            ctx.lineWidth = e.target.value;
            document.getElementById('lineWidthValue').textContent = e.target.value;
        });

        // Text size
        document.getElementById('textSize').addEventListener('input', (e) => {
            document.getElementById('textSizeValue').textContent = e.target.value;
        });

        let snapshot = null;
        // Drawing functions
        function startDrawing(e) {
            isDrawing = true;
            [startX, startY] = [e.offsetX, e.offsetY];
            saveState();
            redoStack = [];
            snapshot = ctx.getImageData(0, 0, canvas.width, canvas.height);
        }

        function draw(e) {
            if (!isDrawing) return;

            const x = e.offsetX;
            const y = e.offsetY;

            switch (currentTool) {
                case 'pencil':
                    ctx.beginPath();
                    ctx.moveTo(startX, startY);
                    ctx.lineTo(x, y);
                    ctx.stroke();
                    [startX, startY] = [x, y];
                    break;
                case 'marker':
                    ctx.globalAlpha = 0.5;
                    ctx.beginPath();
                    ctx.moveTo(startX, startY);
                    ctx.lineTo(x, y);
                    ctx.stroke();
                    ctx.globalAlpha = 1.0;
                    [startX, startY] = [x, y];
                    break;
                case 'eraser':
                    ctx.strokeStyle = canvas.style.backgroundColor || '#000000';
                    ctx.beginPath();
                    ctx.moveTo(startX, startY);
                    ctx.lineTo(x, y);
                    ctx.stroke();
                    ctx.strokeStyle = document.getElementById('colorPicker').value;
                    [startX, startY] = [x, y];
                    break;
                case 'line':
                    ctx.putImageData(snapshot, 0, 0);
                    ctx.beginPath();
                    ctx.moveTo(startX, startY);
                    ctx.lineTo(x, y);
                    ctx.stroke();
                    break;
                case 'rectangle':
                    ctx.putImageData(snapshot, 0, 0);
                    ctx.strokeRect(startX, startY, x - startX, y - startY);
                    break;
                case 'circle':
                    ctx.putImageData(snapshot, 0, 0);
                    const radius = Math.sqrt(Math.pow(x - startX, 2) + Math.pow(y - startY, 2));
                    ctx.beginPath();
                    ctx.arc(startX, startY, radius, 0, 2 * Math.PI);
                    ctx.stroke();
                    break;
            }
        }

        function stopDrawing(e) {
            if (!isDrawing) return;
            isDrawing = false;

            const x = e.offsetX;
            const y = e.offsetY;
            const fontSize = document.getElementById('textSize').value;

            if (currentTool === 'text') {
                const text = prompt('Enter text:');
                if (text) {
                    ctx.font = `${fontSize}px Arial`;
                    ctx.fillText(text, x, y);
                    saveState(); // save after drawing text
                }
            } else if (['line', 'rectangle', 'circle'].includes(currentTool)) {
                // Redraw final version and SAVE it
                ctx.putImageData(snapshot, 0, 0);
                ctx.beginPath();
                switch (currentTool) {
                    case 'line':
                        ctx.moveTo(startX, startY);
                        ctx.lineTo(x, y);
                        ctx.stroke();
                        break;
                    case 'rectangle':
                        ctx.strokeRect(startX, startY, x - startX, y - startY);
                        break;
                    case 'circle':
                        const radius = Math.sqrt((x - startX) ** 2 + (y - startY) ** 2);
                        ctx.arc(startX, startY, radius, 0, 2 * Math.PI);
                        ctx.stroke();
                        break;
                }
                saveState(); // <-- IMPORTANT
            }
        }



        function saveState() {
            history.push(canvas.toDataURL());
            if (history.length > 50) history.shift();
        }

        function redrawCanvas() {
            if (history.length > 0) {
                const img = new Image();
                img.src = history[history.length - 1];
                img.onload = () => {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    ctx.drawImage(img, 0, 0);
                    if (showGrid) drawGrid();
                };
            }
        }

        function drawGrid() {
            ctx.save();
            ctx.strokeStyle = '#404040';
            ctx.lineWidth = 0.5;

            const gridSpacing = 20;
            for (let x = 0; x < canvas.width; x += gridSpacing) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, canvas.height);
                ctx.stroke();
            }
            for (let y = 0; y < canvas.height; y += gridSpacing) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(canvas.width, y);
                ctx.stroke();
            }
            ctx.restore();
        }

        function clearCanvas() {
            if (confirm("Are you sure you want to clear the canvas?")) {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                saveState();
            }
        }

        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                canvas.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        }

        // Event listeners
        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', stopDrawing);
        canvas.addEventListener('mouseout', () => isDrawing = false);

        document.getElementById('clear').addEventListener('click', clearCanvas);
        document.getElementById('grid').addEventListener('click', () => {
            showGrid = !showGrid;
            redrawCanvas();
        });

        document.getElementById('undo').addEventListener('click', () => {
            if (history.length > 1) {
                redoStack.push(history.pop());
                redrawCanvas();
            }
        });

        document.getElementById('redo').addEventListener('click', () => {
            if (redoStack.length > 0) {
                history.push(redoStack.pop());
                redrawCanvas();
            }
        });

        // Utility functions
        function subscribeNewsletter() {
            const email = document.getElementById('newsletter-email').value;
            const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

            if (emailPattern.test(email)) {
                alert('Thank you for subscribing!');
                document.getElementById('newsletter-email').value = '';
            } else {
                alert('Please enter a valid email address.');
            }
        }

        function showTools() {
            alert('Tools panel functionality would be implemented here');
        }

        function showSettings() {
            alert('Settings panel functionality would be implemented here');
        }

        function showHelp() {
            alert('Help panel functionality would be implemented here');
        }

        function saveCanvas() {
            const link = document.createElement('a');
            link.download = 'canvas-drawing.png';
            link.href = canvas.toDataURL();
            link.click();
        }

        function loadCanvas() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.onchange = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const img = new Image();
                        img.onload = () => {
                            ctx.clearRect(0, 0, canvas.width, canvas.height);
                            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                            saveState();
                        };
                        img.src = e.target.result;
                    };
                    reader.readAsDataURL(file);
                }
            };
            input.click();
        }

        function exportCanvas() {
            saveCanvas();
        }

        // Initialize
        document.getElementById('year').textContent = new Date().getFullYear();
        saveState(); // Save initial blank state

        // Profile image update
        document.addEventListener("DOMContentLoaded", function () {
            const savedAvatar = localStorage.getItem("selectedAvatar");
            if (savedAvatar) {
                const homeProfileImage = document.getElementById("homeProfileImage");
                if (homeProfileImage) {
                    homeProfileImage.src = savedAvatar;
                }
            }
        });

        window.embeddedChatbotConfig = {
            chatbotId: "X6k1f9B5oxQr2T4-NzVxG",
            domain: "www.chatbase.co",
            position: "right"
        }
    </script>
    <script src="https://www.chatbase.co/embed.min.js" chatbotId="X6k1f9B5oxQr2T4-NzVxG" domain="www.chatbase.co" defer>
    </script>

    <div class="gtranslate_wrapper"></div>
    <script>window.gtranslateSettings = { "default_language": "en", "detect_browser_language": true, "wrapper_selector": ".gtranslate_wrapper", "switcher_horizontal_position": "right" }</script>
    <script src="https://cdn.gtranslate.net/widgets/latest/float.js" defer></script>

    <style>
        body {

            font-family: Arial, sans-serif;

        }
     </style>

    <!-- Popup Container -->
<div id="popup" class="popup" style="display:none;">
  <!-- Close Button -->
  <span class="close-btn" onclick="closePopup()">×</span>

  <h2>How likely are you to recommend the Creative Canvas Tool to others?</h2>

  <button onclick="vote('very')">Very likely – I love it!</button>
  <button onclick="vote('somewhat')">Somewhat likely – It’s good but has room for growth.</button>
  <button onclick="vote('not')">Not likely – I prefer other tools.</button>
  <button class="vote-btn" onclick="vote('none')">Vote</button>
</div>

<!-- CSS -->
<style>
.popup {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: linear-gradient(to bottom, #f8b6f0, #854a8d);
  color: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0px 5px 20px rgba(0, 0, 0, 0.4);
  z-index: 1000;
  max-width: 500px;
  max-height: 500px;
  text-align: center;
}

.close-btn {
  position: absolute;
  top: 8px;
  right: 12px;
  font-size: 22px;
  font-weight: bold;
  color: white;
  cursor: pointer;
}

button {
  display: block;
  width: 100%;
  margin: 8px 0;
  padding: 10px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

.vote-btn {
  background: red;
  color: white;
}
</style>

<!-- JS -->
<script>
// Show popup after 10 seconds if not voted
window.onload = function () {
  if (!localStorage.getItem("popupVoted")) {   // ✅ check correctly
    setTimeout(function () {
      document.getElementById("popup").style.display = "block";
    }, 10000); // 10 sec
  }
};

// Close popup (without voting)
function closePopup() {
  document.getElementById("popup").style.display = "none";
}

// Vote handler
function vote(choice) {
  localStorage.setItem("popupVoted", choice); // ✅ mark as voted
  closePopup();
  alert("Thanks for your feedback!");
}
</script>

    <script>
        // Coordinates for the cursor
        const coords = { x: 0, y: 0 };
        const circles = document.querySelectorAll(".circle");

        // Colors for the circles
        const colors = [
            "#ffb56b", "#fdaf69", "#f89d63", "#f59761", "#ef865e", "#ec805d",
            "#e36e5c", "#df685c", "#d5585c", "#d1525c", "#c5415d", "#c03b5d",
            "#b22c5e", "#ac265e", "#9c155f", "#950f5f", "#830060", "#7c0060",
            "#680060", "#60005f", "#48005f", "#3d005e"
        ];

        // Assign colors and initial position to each circle
        circles.forEach(function (circle, index) {
            circle.x = 0;
            circle.y = 0;
            circle.style.backgroundColor = colors[index % colors.length];
        });

        // Update the coordinates when the mouse moves
        document.addEventListener("mousemove", function (e) {
            coords.x = e.clientX;
            coords.y = e.clientY;

            // Update the position of each circle
            circles.forEach(function (circle, index) {
                circle.style.left = coords.x - 12 + "px";
                circle.style.top = coords.y - 12 + "px";
                circle.style.scale = (circles.length - index) / circles.length;
            });
        });

        // Add mouseleave event to hide cursor
        document.addEventListener("mouseleave", () => {
            circles.forEach(circle => circle.classList.add("hidden"));
        });

        // Add mouseenter event to show cursor
        document.addEventListener("mouseenter", () => {
            circles.forEach(circle => circle.classList.remove("hidden"));
        });

        // Add focus and blur events to hide/show cursor
        document.addEventListener("focus", () => {
            circles.forEach(circle => circle.classList.remove("hidden"));
        });

        document.addEventListener("blur", () => {
            circles.forEach(circle => circle.classList.add("hidden"));
        });

        // Animation function to move the circles
        function animateCircles() {
            let x = coords.x;
            let y = coords.y;

            circles.forEach(function (circle, index) {
                // Update the position and scale of each circle
                circle.style.left = x - 12 + "px";
                circle.style.top = y - 12 + "px";
                circle.style.scale = (circles.length - index) / circles.length;


                circle.x = x;
                circle.y = y;

                // Get the next circle in the sequence
                const nextCircle = circles[index + 1] || circles[0];
                x += (nextCircle.x - x) * 0.3;
                y += (nextCircle.y - y) * 0.3;
            });

            // Repeat the animation
            requestAnimationFrame(animateCircles);
        }

        // Start the animation
        animateCircles();
        document.getElementById("year").textContent = new Date().getFullYear();

    </script>
</body>

</html>
